(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(6),l=a.n(i),o=(a(14),a(1)),s=a(2),c=a(4),u=a(3),h=a(7),d=a.n(h),p=(a(15),a(8)),m=function(e){var t=new Array(e).fill(!1);return{isSunk:function(){var e,a=!0,r=Object(p.a)(t);try{for(r.s();!(e=r.n()).done;){if(!e.value){a=!1;break}}}catch(n){r.e(n)}finally{r.f()}return a},getLength:function(){return e},hit:function(e){t[e]=!0}}},f=function(){for(var e=[],t=0;t<10;t++){e.push([]);for(var a=0;a<10;a++)e[t].push(" ")}var r=[];return{addShip:function(t,a,n){if("right"===n&&a.x+t>10||"left"===n&&a.x-t<-1||"up"===n&&a.y-t<-1||"down"===n&&a.y+t>10)return"invalid";for(var i=0;i<t;i++)switch(n){case"right":for(var l=0;l<t;l++)if("object"===typeof e[a.x+l][a.y])return"occupied";break;case"left":for(var o=0;o<t;o++)if("object"===typeof e[a.x-o][a.y])return"occupied";break;case"up":for(var s=0;s<t;s++)if("object"===typeof e[a.x][a.y-s])return"occupied";break;case"down":for(var c=0;c<t;c++)if("object"===typeof e[a.x][a.y+c])return"occupied"}var u=m(t);switch(r.push({coordinates:a,ship:u,direction:n}),n){case"right":for(var h=0;h<t;h++)e[a.x+h][a.y]=u;break;case"left":for(var d=0;d<t;d++)e[a.x-d][a.y]=u;break;case"up":for(var p=0;p<t;p++)e[a.x][a.y-p]=u;break;case"down":for(var f=0;f<t;f++)e[a.x][a.y+f]=u}return u},receiveAttack:function(t){var a=e[t.x][t.y];return" "===a?(e[t.x][t.y]="/","miss"):"/"===a||"X"===a?"duplicate":(r.forEach((function(r){if(r.ship===a)switch(r.direction){case"right":a.hit(t.x-r.coordinates.x),e[t.x][t.y]="X";break;case"left":a.hit(r.coordinates.x-t.x),e[t.x][t.y]="X";break;case"up":a.hit(r.coordinates.y-t.y),e[t.x][t.y]="X";break;case"down":a.hit(t.y-r.coordinates.y),e[t.x][t.y]="X"}})),"hit")},remainingShips:function(){var e=0;return r.forEach((function(t){t.ship.isSunk()||e++})),e},getState:function(){return e}}},g=function(e,t){for(var a=0,r=e.toLowerCase().split(" "),n=0;n<r.length;n++){var i=r[n].split("");i[0]=i[0].toUpperCase(),r[n]=i.join("")}return e=r.join(" "),{getName:function(){return e},addPoint:function(){return a++},getScore:function(){return a},isBot:function(){return"bot"===t}}};var y=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var r,n;Object(o.a)(this,a),(r=t.call(this,e)).state={playerIsNext:!1,playerPlacedShips:0},r.players=[];do{n=prompt("Enter player name")}while(!n);r.players.push({player:g(n,"user"),gameboard:f()}),r.players.push({player:g("b@tt13 b0t","bot"),gameboard:f()}),r.fleet=[5,4,3,2,2,1,1];for(var i=0;i<r.fleet.length;i++)for(;!r.placeRandomShip(1,r.fleet[i]););for(var l=0;l<r.players[0].gameboard.getState().length;l++)console.log(r.players[0].gameboard.getState()[l].length);return r}return Object(s.a)(a,[{key:"handleClick",value:function(e,t){if(this.state.playerPlacedShips<7)alert("Place all ships to start game.");else if("duplicate"!==this.players[1].gameboard.receiveAttack({x:e,y:t})){for(this.setState({playerIsNext:!this.state.playerIsNext}),this.players[1].gameboard.remainingShips()||(alert("".concat(this.players[0].player.getName()," wins!")),window.location.reload());"duplicate"===this.players[0].gameboard.receiveAttack({x:this.getRandomInt(10),y:this.getRandomInt(10)}););this.players[0].gameboard.remainingShips()||(alert("".concat(this.players[1].player.getName()," wins!")),window.location.reload()),this.setState({playerIsNext:!this.state.playerIsNext})}}},{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"placeRandomShip",value:function(e,t){var a=this.getRandomInt(10),r=this.getRandomInt(10);return"object"===typeof this.players[e].gameboard.addShip(t,{x:a,y:r},["up","down","right","left"][this.getRandomInt(4)])}},{key:"handleDrop",value:function(e){e.preventDefault();var t,a=JSON.parse(e.dataTransfer.getData("text")),r=JSON.parse(e.target.id),n=a.length,i=a.id;t="hShip"===a.className?"right":"down","object"===typeof this.players[0].gameboard.addShip(n,r,t)&&(this.setState({playerPlacedShips:this.state.playerPlacedShips+1}),document.getElementById(i).style.display="none")}},{key:"render",value:function(){for(var e=this,t=[],a=function(a){for(var r=function(r){t.push(n.a.createElement(v,{value:e.players[1].gameboard.getState()[a][r],onClick:function(){return e.handleClick(a,r)}}))},i=0;i<e.players[1].gameboard.getState()[a].length;i++)r(i)},r=0;r<this.players[1].gameboard.getState().length;r++)a(r);for(var i=[],l=0;l<this.players[0].gameboard.getState().length;l++)for(var o=0;o<this.players[0].gameboard.getState()[l].length;o++)i.push(n.a.createElement(b,{value:this.players[0].gameboard.getState()[l][o],onDrop:function(t){return e.handleDrop(t)},id:JSON.stringify({x:l,y:o})}));return n.a.createElement("div",{id:"container"},n.a.createElement("div",{className:"gameboard",id:"player"},n.a.createElement("h2",null,"Your Ships"),n.a.createElement("div",{className:"grid"},i),n.a.createElement("h4",null,"Remaining Ships: ",this.players[0].gameboard.remainingShips())),n.a.createElement("div",{className:"gameboard",id:"enemy"},n.a.createElement("h2",null,"Enemy Ships"),n.a.createElement("div",{className:"grid"},t),n.a.createElement("h4",null,"Remaining Ships: ",this.players[1].gameboard.remainingShips())),n.a.createElement("div",{id:"ships"},n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Aircraft Carrier"),n.a.createElement("th",null,"Battleship"),n.a.createElement("th",null,"Cruiser"),n.a.createElement("th",null,"Destroyer"),n.a.createElement("th",null,"Submarine"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement(E,{value:"carrier",id:"carrier1"})),n.a.createElement("td",null,n.a.createElement(E,{value:"battleship",id:"battleship1"})),n.a.createElement("td",null,n.a.createElement(E,{value:"cruiser",id:"cruiser1"})),n.a.createElement("td",null,n.a.createElement(E,{value:"destroyer",id:"destroyer1"}),n.a.createElement(E,{value:"destroyer",id:"destroyer2"})),n.a.createElement("td",null,n.a.createElement(E,{value:"submarine",id:"submarine1"}),n.a.createElement(E,{value:"submarine",id:"submarine2"})))))))}}]),a}(n.a.Component);function v(e){return n.a.createElement("button",{className:"gridButton",onClick:function(){return e.onClick()}},"object"===typeof e.value?" ":e.value)}function b(e){return n.a.createElement("div",{className:"object"===typeof e.value?"occupiedGridSquare":"emptyGridSquare",onDragOver:function(e){e.preventDefault()},onDrop:function(t){return e.onDrop(t)},id:e.id},"object"===typeof e.value?" ":e.value)}var E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var r;switch(Object(o.a)(this,a),(r=t.call(this,e)).state={shipIsHorizontal:!0},r.squares=[],r.length=null,e.value){case"carrier":r.length=5;break;case"battleship":r.length=4;break;case"cruiser":r.length=3;break;case"destroyer":r.length=2;break;case"submarine":r.length=1;break;default:r.length=0}for(var i=0;i<r.length;i++)r.squares.push(n.a.createElement("div",{className:"occupiedGridSquare"}));return r}return Object(s.a)(a,[{key:"handleClick",value:function(){this.setState({shipIsHorizontal:!this.state.shipIsHorizontal})}},{key:"handleDrag",value:function(e){var t=JSON.stringify({className:e.target.className,length:this.length,id:this.props.id});e.dataTransfer.setData("text",t)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:this.state.shipIsHorizontal?"hShip":"vShip",onClick:function(){return e.handleClick()},length:this.length,draggable:"true",onDragStart:function(t){return e.handleDrag(t)},id:this.props.id},this.squares)}}]),a}(n.a.Component),S=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}),n.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.5aad8864.chunk.js.map